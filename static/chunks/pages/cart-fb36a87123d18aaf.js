(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[190],{8086:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart",function(){return t(8779)}])},8316:function(n,e,t){"use strict";t.d(e,{Z:function(){return m},C:function(){return b}});var i=t(2729),r=t(5893);let o="#0D3D29";var c=t(9521);function d(){let n=(0,i._)(["\n      display: block;\n      width: 100%;\n    "]);return d=function(){return n},n}function l(){let n=(0,i._)(["\n      background-color: #fff;\n      color: #000;\n    "]);return l=function(){return n},n}function u(){let n=(0,i._)(["\n      background-color: transparent;\n      color: #fff;\n      border: 1px solid #fff;\n    "]);return u=function(){return n},n}function s(){let n=(0,i._)(["\n      background-color: #000;\n      color: #fff;\n    "]);return s=function(){return n},n}function a(){let n=(0,i._)(["\n      background-color: transparent;\n      color: #000;\n      border: 1px solid #000;\n    "]);return a=function(){return n},n}function f(){let n=(0,i._)(["\n      background-color: ",";\n      border: 1px solid ",";\n      color: #fff;\n    "]);return f=function(){return n},n}function p(){let n=(0,i._)(["\n      background-color: transparent;\n      border: 1px solid ",";\n      color: ",";\n    "]);return p=function(){return n},n}function x(){let n=(0,i._)(["\n      font-size: 1.2rem;\n      padding: 10px 20px;\n      svg {\n        height: 20px;\n      }\n    "]);return x=function(){return n},n}function h(){let n=(0,i._)(["\n  border: 0;\n  padding: 5px 15px;\n  border-radius: 5px;\n  cursor: pointer;\n  display: inline-flex;\n  align-items: center;\n  text-decoration: none;\n  font-family: 'Poppins', sans-serif;\n  font-weight: 500;\n  svg {\n    height: 16px;\n    margin-right: 5px;\n  }\n  ","\n  ","\n  ","\n    ","\n  ","\n  ","\n    ","\n  ","\n"]);return h=function(){return n},n}function g(){let n=(0,i._)(["\n  ","\n"]);return g=function(){return n},n}let m=(0,c.iv)(h(),n=>n.block&&(0,c.iv)(d()),n=>n.white&&!n.outline&&(0,c.iv)(l()),n=>n.white&&n.outline&&(0,c.iv)(u()),n=>n.black&&!n.outline&&(0,c.iv)(s()),n=>n.black&&n.outline&&(0,c.iv)(a()),n=>n.primary&&!n.outline&&(0,c.iv)(f(),o,o),n=>n.primary&&n.outline&&(0,c.iv)(p(),o,o),n=>"l"===n.size&&(0,c.iv)(x())),j=c.ZP.button.withConfig({componentId:"sc-eff34fd6-0"})(g(),m);function b(n){let{children:e,...t}=n;return(0,r.jsx)(j,{...t,children:e})}},2758:function(n,e,t){"use strict";t.d(e,{Z:function(){return l}});var i=t(2729),r=t(5893),o=t(9521);function c(){let n=(0,i._)(["\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 0 20px;\n"]);return c=function(){return n},n}let d=o.ZP.div.withConfig({componentId:"sc-51616b49-0"})(c());function l(n){let{children:e}=n;return(0,r.jsx)(d,{children:e})}},8899:function(n,e,t){"use strict";t.d(e,{Z:function(){return k}});var i=t(2729),r=t(5893),o=t(1664),c=t.n(o),d=t(9521),l=t(2758),u=t(7294),s=t(8551);function a(n){let{className:e="w-6 h-6"}=n;return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})}function f(){let n=(0,i._)(["\n  background-color: #222;\n"]);return f=function(){return n},n}function p(){let n=(0,i._)(["\n  color: #fff;\n  text-decoration: none;\n  position: relative;\n  z-index: 3;\n"]);return p=function(){return n},n}function x(){let n=(0,i._)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 20px 0;\n"]);return x=function(){return n},n}function h(){let n=(0,i._)(["\n  ","\n  gap: 15px;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  padding: 70px 20px 20px;\n  background-color: #222;\n  @media screen and (min-width: 768px) {\n    display: flex;\n    position: static;\n    padding: 0;\n  }\n"]);return h=function(){return n},n}function g(){let n=(0,i._)(["\n  display: block;\n  color: #aaa;\n  text-decoration: none;\n  padding: 10px 0;\n  @media screen and (min-width: 768px) {\n    padding: 0;\n  }\n"]);return g=function(){return n},n}function m(){let n=(0,i._)(["\n  background-color: transparent;\n  width: 30px;\n  height: 30px;\n  border: 0;\n  color: white;\n  cursor: pointer;\n  position: relative;\n  z-index: 3;\n  @media screen and (min-width: 768px) {\n    display: none;\n  }\n"]);return m=function(){return n},n}let j=d.ZP.header.withConfig({componentId:"sc-3e2489b9-0"})(f()),b=(0,d.ZP)(c()).withConfig({componentId:"sc-3e2489b9-1"})(p()),w=d.ZP.div.withConfig({componentId:"sc-3e2489b9-2"})(x()),v=d.ZP.nav.withConfig({componentId:"sc-3e2489b9-3"})(h(),n=>n.mobileNavActive?"\n    display: block;\n  ":"\n    display: none;\n  "),C=(0,d.ZP)(c()).withConfig({componentId:"sc-3e2489b9-4"})(g()),_=d.ZP.button.withConfig({componentId:"sc-3e2489b9-5"})(m());function k(){let{cartProducts:n}=(0,u.useContext)(s.A),[e,t]=(0,u.useState)(!1);return(0,r.jsx)(j,{children:(0,r.jsx)(l.Z,{children:(0,r.jsxs)(w,{children:[(0,r.jsx)(b,{href:"/",children:"Cake Fit"}),(0,r.jsxs)(v,{mobileNavActive:e,children:[(0,r.jsx)(C,{href:"/",children:"Home"}),(0,r.jsx)(C,{href:"/products",children:"Productos"}),(0,r.jsx)(C,{href:"/categories",children:"Categorias"}),(0,r.jsx)(C,{href:"/account",children:"Cuenta"}),(0,r.jsxs)(C,{href:"/cart",children:["Carrito (",n.length,")"]})]}),(0,r.jsx)(_,{onClick:()=>t(n=>!n),children:(0,r.jsx)(a,{})})]})})})}},8779:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return N}});var i=t(2729),r=t(5893),o=t(8316),c=t(8551),d=t(2758),l=t(8899),u=t(9521);function s(){let n=(0,i._)(["\n  width: 100%;\n  padding: 5px;\n  margin-bottom: 5px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  box-sizing: border-box;\n"]);return s=function(){return n},n}let a=u.ZP.input.withConfig({componentId:"sc-ba8e5e79-0"})(s());function f(n){return(0,r.jsx)(a,{...n})}function p(){let n=(0,i._)(["\n  width: 100%;\n  th {\n    text-align: left;\n    text-transform: uppercase;\n    color: #ccc;\n    font-weight: 600;\n    font-size: 0.7rem;\n  }\n  td {\n    border-top: 1px solid rgba(0, 0, 0, 0.1);\n  }\n"]);return p=function(){return n},n}let x=u.ZP.table.withConfig({componentId:"sc-bb991eee-0"})(p());function h(n){return(0,r.jsx)(x,{...n})}var g=t(6154),m=t(7294);function j(){let n=(0,i._)(["\n  display: grid;\n  grid-template-columns: 1fr;\n  @media screen and (min-width: 768px) {\n    grid-template-columns: 1.2fr 0.8fr;\n  }\n  gap: 40px;\n  margin-top: 40px;\n"]);return j=function(){return n},n}function b(){let n=(0,i._)(["\n  background-color: #fff;\n  border-radius: 10px;\n  padding: 30px;\n"]);return b=function(){return n},n}function w(){let n=(0,i._)(["\n  padding: 10px 0;\n"]);return w=function(){return n},n}function v(){let n=(0,i._)(["\n  width: 70px;\n  height: 100px;\n  padding: 2px;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 10px;\n  img {\n    max-width: 60px;\n    max-height: 60px;\n  }\n  @media screen and (min-width: 768px) {\n    padding: 10px;\n    width: 100px;\n    height: 100px;\n    img {\n      max-width: 80px;\n      max-height: 80px;\n    }\n  }\n"]);return v=function(){return n},n}function C(){let n=(0,i._)(["\n  padding: 0 15px;\n  display: block;\n  @media screen and (min-width: 768px) {\n    display: inline-block;\n    padding: 0 10px;\n  }\n"]);return C=function(){return n},n}function _(){let n=(0,i._)(["\n  display: flex;\n  gap: 5px;\n"]);return _=function(){return n},n}let k=u.ZP.div.withConfig({componentId:"sc-f44caf4c-0"})(j()),y=u.ZP.div.withConfig({componentId:"sc-f44caf4c-1"})(b()),Z=u.ZP.td.withConfig({componentId:"sc-f44caf4c-2"})(w()),P=u.ZP.div.withConfig({componentId:"sc-f44caf4c-3"})(v()),I=u.ZP.span.withConfig({componentId:"sc-f44caf4c-4"})(C()),S=u.ZP.div.withConfig({componentId:"sc-f44caf4c-5"})(_());function N(){let{cartProducts:n,addProduct:e,removeProduct:t,clearCart:i}=(0,m.useContext)(c.A),[u,s]=(0,m.useState)([]),[a,p]=(0,m.useState)(""),[x,j]=(0,m.useState)(""),[b,w]=(0,m.useState)(""),[v,C]=(0,m.useState)(""),[_,N]=(0,m.useState)(""),[E,z]=(0,m.useState)(!1);async function A(){let e=await g.Z.post("/api/checkout",{name:a,email:x,city:b,postalCode:v,streetAddress:_,cartProducts:n});e.data.url&&(window.location=e.data.url)}(0,m.useEffect)(()=>{n.length>0?g.Z.post("/api/cart",{ids:n}).then(n=>{s(n.data)}):s([])},[n]),(0,m.useEffect)(()=>{(null==window?void 0:window.location.href.includes("success"))&&(z(!0),i())},[]);let D=0;for(let e of n){var F;let n=(null===(F=u.find(n=>n._id===e))||void 0===F?void 0:F.price)||0;D+=n}return E?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Z,{}),(0,r.jsx)(d.Z,{children:(0,r.jsx)(k,{children:(0,r.jsxs)(y,{children:[(0,r.jsx)("h1",{children:"Gracias por su compra!"}),(0,r.jsx)("p",{children:"Le enviaremos un correo electr\xf3nico cuando se env\xede su pedido."})]})})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Z,{}),(0,r.jsx)(d.Z,{children:(0,r.jsxs)(k,{children:[(0,r.jsxs)(y,{children:[(0,r.jsx)("h2",{children:"Carrito"}),!(null==n?void 0:n.length)&&(0,r.jsx)("div",{children:"Tu carrito esta vac\xedo"}),(null==u?void 0:u.length)>0&&(0,r.jsxs)(h,{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Producto"}),(0,r.jsx)("th",{children:"Cantidad"}),(0,r.jsx)("th",{children:"Precio"})]})}),(0,r.jsxs)("tbody",{children:[u.map(i=>(0,r.jsxs)("tr",{children:[(0,r.jsxs)(Z,{children:[(0,r.jsx)(P,{children:(0,r.jsx)("img",{src:i.images[0]})}),i.title]}),(0,r.jsxs)("td",{children:[(0,r.jsx)(o.C,{onClick:()=>{t(i._id)},children:"-"}),(0,r.jsx)(I,{children:n.filter(n=>n===i._id).length}),(0,r.jsx)(o.C,{onClick:()=>{e(i._id)},children:"+"})]}),(0,r.jsxs)("td",{children:["S/.",n.filter(n=>n===i._id).length*i.price]})]},i._id)),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{}),(0,r.jsx)("td",{}),(0,r.jsxs)("td",{children:["S/.",D]})]})]})]})]}),!!(null==n?void 0:n.length)&&(0,r.jsxs)(y,{children:[(0,r.jsx)("h2",{children:"Orden de informacion"}),(0,r.jsx)(f,{type:"text",placeholder:"Nombre",value:a,name:"name",onChange:n=>p(n.target.value)}),(0,r.jsx)(f,{type:"text",placeholder:"Gmail",value:x,name:"email",onChange:n=>j(n.target.value)}),(0,r.jsxs)(S,{children:[(0,r.jsx)(f,{type:"text",placeholder:"Distrito",value:b,name:"city",onChange:n=>w(n.target.value)}),(0,r.jsx)(f,{type:"text",placeholder:"Codigo Postal",value:v,name:"postalCode",onChange:n=>C(n.target.value)})]}),(0,r.jsx)(f,{type:"text",placeholder:"Direccion",value:_,name:"streetAddress",onChange:n=>N(n.target.value)}),(0,r.jsx)(o.C,{onClick:A,black:!0,block:!0,type:"submit",children:"Continuar con el pago"})]})]})})]})}}},function(n){n.O(0,[664,154,774,888,179],function(){return n(n.s=8086)}),_N_E=n.O()}]);